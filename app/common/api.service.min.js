"use strict";var DEBUG=!1;angular.module("app.common-api",["app.common-auth","ngLodash","restangular"]).service("APIUtil",["AuthUtil","Restangular","lodash",function(t,n,e){var a=n.all("animal"),o=n.all("component"),r=n.all("mixture"),i=function(o){return a.get("all").then(function(a){var a=e.toArray(n.stripRestangular(a));o.animalData=a.filter(function(n){return t.itemFilter(o,n)}),o.animalCount=o.animalData.length},function(){o.animalData=[],o.animalCount=0})},l=function(t,a){return o.get(a).then(function(a){t.formResult=e.toArray(n.stripRestangular(a))[0]},function(){t.formResult=null})},u=function(t){return a.all("new").post(t)},s=function(t,n){return r.all(t).post(n)},f=function(t){return a.all(t).remove()},c=function(a){return o.get("all").then(function(o){var o=e.toArray(n.stripRestangular(o));a.compData=o.filter(function(n){return t.itemFilter(a,n)}),a.compCount=a.compData.length},function(){a.compData=[],a.compCount=0})},m=function(t,a){return o.get(a).then(function(a){t.formResult=e.toArray(n.stripRestangular(a))[0]},function(){t.formResult=null})},p=function(t){return o.all("new").post(t)},h=function(t,n){return r.all(t).post(n)},d=function(t){return o.all(t).remove()},g=function(a){return r.get("all").then(function(o){var o=e.toArray(n.stripRestangular(o));a.feedData=o.filter(function(n){return t.itemFilter(a,n)}),a.feedCount=a.feedData.length},function(){a.feedData=[],a.feedCount=0})},A=function(t,a){return r.get(a).then(function(a){t.formResult=e.toArray(n.stripRestangular(a))[0]},function(){t.formResult=null})},R=function(t){return r.all("new").post(t)},C=function(t,n){return r.all(t).post(n)},D=function(t){return r.all(t).remove()};this.animalEndpoint=a,this.componentEndpoint=o,this.feedEndpoint=r,this.getAllAnimals=i,this.getAllComponents=c,this.getAllFeeds=g,this.getAnimal=l,this.getComponent=m,this.getFeed=A,this.addAnimal=u,this.addComponent=p,this.addFeed=R,this.updateAnimal=s,this.updateComponent=h,this.updateFeed=C,this.deleteAnimal=f,this.deleteComponent=d,this.deleteFeed=D}]);