"use strict";function FeedEditController(e,t,i,a,l,o,d,r,n,p){e.addNewComp=r.partial(d.addNewComp,e),e.calculate=r.partial(d.calculate,e),e.nullifyComp=r.partial(d.nullifyComp,e),e.optFeed=r.partial(d.optFeed,e),e.removeComp=r.partial(d.removeComp,e),e.resetComps=r.partial(d.resetComps,e),e.updateComp=r.partial(d.updateComp,e),e.isLoggedIn=r.partial(o.isLoggedIn,e),e.isPrivilegedUser=r.partial(o.isPrivilegedUser,e),e.initRadio=p.initRadio,e.makeSticky=p.makeSticky,e.isUndefined=angular.isUndefined,l.getFeed(e,i.feedId),l.getAllAnimals(e),l.getAllComponents(e).then(function(){a(function(){e.formResult.compData.forEach(function(e,t){$("#select"+t).select2("val",e._id)}),e.calculate()})}),e.submit=function(){var i={};i[e.formResult._id]=e.formResult,l.updateFeed(e.formResult._id,i).then(function(){Messenger().post("Saved feed mixture '"+e.formResult.name+"'"),t.go("feed-list")})}}angular.module("app.feed-edit",["app.common-api","app.common-auth","app.common-ui","app.feed-service","ngLodash","ui.router"]).config(["$stateProvider",function(e){e.state("feed-edit",{url:"/feeds/edit/:feedId",views:{main:{controller:"FeedEditCtrl",templateUrl:"app/feed/feed-new.tpl.min.html"}},data:{pageTitle:"Edit Feed Mixture"}})}]).controller("FeedEditCtrl",FeedEditController),FeedEditController.$inject=["$scope","$state","$stateParams","$timeout","APIUtil","AuthUtil","FeedUtil","lodash","Slug","UIUtil"];