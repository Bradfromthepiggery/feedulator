"use strict";function ComponentNewConfig(e){e.state("component-new",{url:"/components/new",views:{main:{controller:"ComponentNewCtrl",templateUrl:"app/component/component-new.tpl.min.html"}},data:{pageTitle:"Create Feed Component"}})}function ComponentNewController(e,t,n,o,i,r,l,m){e.isLoggedIn=r.partial(i.isLoggedIn,e),e.isPrivilegedUser=r.partial(i.isPrivilegedUser,e),e.initRadio=m.initRadio,e.makeSticky=m.makeSticky,e.formResult={creationDate:new Date,nutrients:nutrientMasterList,gmoFree:!1,isPrivate:!0},e.submit=function(){e.formResult._id=l.slugify(e.formResult.name),e.formResult.nutrients=r.pick(e.formResult.nutrients,function(e){return 0!==e.value}),e.formResult.owner=e.profile.user_id,e.isPrivilegedUser()||(e.formResult.isPrivate=!0);var n={};n[e.formResult._id]=e.formResult,o.addComponent(n).then(function(){Messenger().post("Saved component '"+e.formResult.name+"'"),t.go("component-list")})}}angular.module("app.component-new",["app.common-api","app.common-auth","ngLodash","slugifier","ui.router"]).config(ComponentNewConfig).controller("ComponentNewCtrl",ComponentNewController),ComponentNewConfig.$inject=["$stateProvider"],ComponentNewController.$inject=["$scope","$state","$timeout","APIUtil","AuthUtil","lodash","Slug","UIUtil"];